<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–Ω–µ–∂–∞–Ω–∞ ‚Äî 3D –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            background: #1a1a2e;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
        }

        .ui-layer {
            position: relative;
            z-index: 10;
            pointer-events: none;
        }

        .section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            position: relative;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            padding: 50px;
            max-width: 700px;
            text-align: center;
            pointer-events: auto;
            transform-style: preserve-3d;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
        }

        h1 {
            font-size: 3.5rem;
            color: #fff;
            text-shadow: 0 0 30px rgba(255, 107, 157, 0.8);
            margin-bottom: 20px;
            font-weight: 800;
        }

        h2 {
            font-size: 2.5rem;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(255, 107, 157, 0.6);
        }

        p {
            color: rgba(255,255,255,0.9);
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .btn-3d {
            padding: 20px 50px;
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            transition: all 0.3s;
            pointer-events: auto;
            position: relative;
            overflow: hidden;
        }

        .btn-3d:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(255, 107, 157, 0.6);
        }

        .btn-3d::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: 0.5s;
        }

        .btn-3d:hover::before {
            left: 100%;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 40px;
            max-width: 600px;
            color: #333;
            pointer-events: auto;
            transform-style: preserve-3d;
            box-shadow: 0 30px 60px rgba(0,0,0,0.3);
        }

        .question-card h3 {
            font-size: 1.8rem;
            color: #ff6b9d;
            margin-bottom: 25px;
        }

        .options {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .option-btn {
            padding: 15px 30px;
            border: 3px solid #ff6b9d;
            background: white;
            border-radius: 20px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            pointer-events: auto;
        }

        .option-btn:hover {
            background: #ff6b9d;
            color: white;
            transform: scale(1.1);
        }

        .hint-reveal {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(135deg, #fff5f7 0%, #ffe0ec 100%);
            border-radius: 20px;
            border: 3px dashed #ff6b9d;
            display: none;
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .hint-reveal.show {
            display: block;
        }

        @keyframes popIn {
            0% { transform: scale(0) rotate(-10deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 2rem;
            animation: bounce 2s infinite;
            pointer-events: auto;
            cursor: pointer;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-20px); }
        }

        .final-question {
            font-size: 3rem;
            color: white;
            text-shadow: 0 0 40px rgba(255, 107, 157, 1);
            margin-bottom: 40px;
        }

        .runaway-btn {
            position: absolute;
            padding: 15px 40px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: white;
            border-radius: 50px;
            cursor: not-allowed;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: auto;
        }

        .success-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 26, 46, 0.98);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .success-screen.active {
            display: flex;
            opacity: 1;
        }

        .success-text {
            font-size: 4rem;
            color: white;
            text-shadow: 0 0 50px rgba(255, 107, 157, 1);
            margin-bottom: 30px;
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a2e;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            font-size: 1.5rem;
            transition: opacity 0.5s;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }
            .glass-panel { padding: 30px; }
            .final-question { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <div class="loading" id="loading">–ó–∞–≥—Ä—É–∑–∫–∞ 3D –º–∏—Ä–∞... üíï</div>

    <div id="canvas-container"></div>

    <div class="ui-layer">
        <!-- –≠–∫—Ä–∞–Ω 1: –ò–Ω—Ç—Ä–æ -->
        <section class="section" id="intro">
            <div class="glass-panel">
                <h1>–°–Ω–µ–∂–∞–Ω–∞, —ç—Ç–æ –¥–ª—è —Ç–µ–±—è</h1>
                <p>–ê–ª–∏—à–µ—Ä —Å–æ–∑–¥–∞–ª —Ü–µ–ª—ã–π 3D-–º–∏—Ä, —á—Ç–æ–±—ã —Å–∫–∞–∑–∞—Ç—å –∫–æ–µ-—á—Ç–æ –≤–∞–∂–Ω–æ–µ...</p>
                <button class="btn-3d" onclick="scrollToSection('quiz')">–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ</button>
            </div>
            <div class="scroll-indicator" onclick="scrollToSection('quiz')">‚Üì</div>
        </section>

        <!-- –≠–∫—Ä–∞–Ω 2: –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ -->
        <section class="section" id="quiz">
            <div class="question-card" id="q1">
                <h3>üçï –¢—ã –≥–æ—Ç–æ–≤–∞ –≤–∫—É—Å–Ω–æ –ø–æ–∫—É—à–∞—Ç—å?</h3>
                <div class="options">
                    <button class="option-btn" onclick="showHint(1, 'yes')">–í—Å–µ–≥–¥–∞!</button>
                    <button class="option-btn" onclick="showHint(1, 'no')">–ù–µ –≥–æ–ª–æ–¥–Ω–∞</button>
                </div>
                <div class="hint-reveal" id="hint1">
                    <div style="font-size: 3rem; margin-bottom: 15px;">üéÅ</div>
                    <p id="hintText1"></p>
                </div>
            </div>

            <div class="question-card" id="q2" style="display:none; margin-top: 30px;">
                <h3>üéÅ –õ—é–±–∏—à—å —Å—é—Ä–ø—Ä–∏–∑—ã?</h3>
                <div class="options">
                    <button class="option-btn" onclick="showHint(2, 'yes')">–û–±–æ–∂–∞—é!</button>
                    <button class="option-btn" onclick="showHint(2, 'no')">–ë–æ—é—Å—å</button>
                </div>
                <div class="hint-reveal" id="hint2">
                    <div style="font-size: 3rem; margin-bottom: 15px;">üëÄ</div>
                    <p id="hintText2"></p>
                </div>
            </div>

            <div class="question-card" id="q3" style="display:none; margin-top: 30px;">
                <h3>üíù –ì–æ—Ç–æ–≤–∞ –Ω–∞–π—Ç–∏ –ø–æ–¥–∞—Ä–æ–∫?</h3>
                <div class="options">
                    <button class="option-btn" onclick="showHint(3, 'yes')">–í–µ–¥–∏ –º–µ–Ω—è!</button>
                    <button class="option-btn" onclick="showHint(3, 'later')">–ü–æ–∑–∂–µ</button>
                </div>
                <div class="hint-reveal" id="hint3">
                    <div style="font-size: 3rem; margin-bottom: 15px;">üóùÔ∏è</div>
                    <p id="hintText3"></p>
                </div>
            </div>

            <button class="btn-3d" style="margin-top: 40px;" onclick="scrollToSection('final')">
                –ö —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É –≤–æ–ø—Ä–æ—Å—É ‚Üí
            </button>
        </section>

        <!-- –≠–∫—Ä–∞–Ω 3: –§–∏–Ω–∞–ª -->
        <section class="section" id="final">
            <h2 class="final-question">–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</h2>
            <div style="position: relative; width: 300px; height: 100px;">
                <button class="btn-3d" style="position: absolute; left: 0;" onclick="sayYes()">
                    –î–∞! üíñ
                </button>
                <button class="runaway-btn" id="noBtn" onmouseenter="moveButton()" style="right: 0;">
                    –ù–µ—Ç
                </button>
            </div>
        </section>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —É—Å–ø–µ—Ö–∞ -->
    <div class="success-screen" id="successScreen">
        <div class="success-text">–Ø —Ç–∞–∫ –∏ –∑–Ω–∞–ª! üíï</div>
        <p style="color: white; font-size: 1.5rem; margin-bottom: 30px;">
            –¢–µ–ø–µ—Ä—å –∏–¥–∏ –∏—Å–∫–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ —Ç–∞–º, –≥–¥–µ –ø–∞—Ö–Ω–µ—Ç –≤–∫—É—Å–Ω–æ... üçï‚ú®
        </p>
        <button class="btn-3d" onclick="location.reload()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>

    <script>
        // ===== THREE.JS 3D –°–¶–ï–ù–ê =====
        let scene, camera, renderer;
        let heartGroup, floatingHearts = [];
        let particles;
        let mouseX = 0, mouseY = 0;
        let targetRotationX = 0, targetRotationY = 0;

        function initThree() {
            const container = document.getElementById('canvas-container');

            // –°—Ü–µ–Ω–∞
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x1a1a2e, 0.02);

            // –ö–∞–º–µ—Ä–∞
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 30;

            // –†–µ–Ω–¥–µ—Ä–µ—Ä
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(renderer.domElement);

            // –û—Å–≤–µ—â–µ–Ω–∏–µ
            const ambientLight = new THREE.AmbientLight(0xffc8dd, 0.6);
            scene.add(ambientLight);

            const pointLight = new THREE.PointLight(0xff6b9d, 1, 100);
            pointLight.position.set(10, 10, 10);
            pointLight.castShadow = true;
            scene.add(pointLight);

            const pointLight2 = new THREE.PointLight(0xcdb4db, 1, 100);
            pointLight2.position.set(-10, -10, 10);
            scene.add(pointLight2);

            // –°–æ–∑–¥–∞—ë–º –≥–ª–∞–≤–Ω–æ–µ 3D-—Å–µ—Ä–¥—Ü–µ
            createMainHeart();

            // –°–æ–∑–¥–∞—ë–º –ø–ª–∞–≤–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏
            createFloatingHearts();

            // –°–æ–∑–¥–∞—ë–º —á–∞—Å—Ç–∏—Ü—ã
            createParticles();

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            document.addEventListener('mousemove', onMouseMove);
            window.addEventListener('resize', onWindowResize);

            // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
            }, 1000);

            animate();
        }

        function createMainHeart() {
            heartGroup = new THREE.Group();

            // –§–æ—Ä–º–∞ —Å–µ—Ä–¥—Ü–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é –≥–µ–æ–º–µ—Ç—Ä–∏—é
            const x = 0, y = 0;
            const heartShape = new THREE.Shape();
            
            heartShape.moveTo(x + 5, y + 5);
            heartShape.bezierCurveTo(x + 5, y + 5, x + 4, y, x, y);
            heartShape.bezierCurveTo(x - 6, y, x - 6, y + 7, x - 6, y + 7);
            heartShape.bezierCurveTo(x - 6, y + 11, x - 3, y + 15.4, x + 5, y + 19);
            heartShape.bezierCurveTo(x + 12, y + 15.4, x + 16, y + 11, x + 16, y + 7);
            heartShape.bezierCurveTo(x + 16, y + 7, x + 16, y, x + 10, y);
            heartShape.bezierCurveTo(x + 7, y, x + 5, y + 5, x + 5, y + 5);

            const extrudeSettings = {
                depth: 8,
                bevelEnabled: true,
                bevelSegments: 5,
                steps: 2,
                bevelSize: 2,
                bevelThickness: 2
            };

            const geometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);
            
            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –≥–µ–æ–º–µ—Ç—Ä–∏—é
            geometry.center();

            // –ú–∞—Ç–µ—Ä–∏–∞–ª —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
            const material = new THREE.MeshPhysicalMaterial({
                color: 0xff6b9d,
                metalness: 0.1,
                roughness: 0.2,
                clearcoat: 1.0,
                clearcoatRoughness: 0.1,
                emissive: 0xff1744,
                emissiveIntensity: 0.2,
                side: THREE.DoubleSide
            });

            const heartMesh = new THREE.Mesh(geometry, material);
            heartMesh.castShadow = true;
            heartMesh.receiveShadow = true;
            heartMesh.scale.set(0.8, 0.8, 0.8);
            
            heartGroup.add(heartMesh);

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–µ—á–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ —Å–µ—Ä–¥—Ü–∞
            const glowGeometry = new THREE.SphereGeometry(15, 32, 32);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: 0xff6b9d,
                transparent: true,
                opacity: 0.1
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            heartGroup.add(glow);

            scene.add(heartGroup);
        }

        function createFloatingHearts() {
            const heartGeometry = new THREE.SphereGeometry(0.5, 16, 16);
            const heartMaterial = new THREE.MeshPhysicalMaterial({
                color: 0xffc8dd,
                emissive: 0xff6b9d,
                emissiveIntensity: 0.5,
                metalness: 0.5,
                roughness: 0.1
            });

            for (let i = 0; i < 50; i++) {
                const heart = new THREE.Mesh(heartGeometry, heartMaterial.clone());
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                heart.position.x = (Math.random() - 0.5) * 100;
                heart.position.y = (Math.random() - 0.5) * 100;
                heart.position.z = (Math.random() - 0.5) * 50 - 20;
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                const scale = Math.random() * 0.5 + 0.3;
                heart.scale.set(scale, scale, scale);
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
                heart.material.color.setHSL(
                    0.9 + Math.random() * 0.1, // —Ä–æ–∑–æ–≤—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏
                    0.8,
                    0.6
                );
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                heart.userData = {
                    speedY: Math.random() * 0.02 + 0.01,
                    speedRot: Math.random() * 0.02,
                    offset: Math.random() * Math.PI * 2
                };
                
                floatingHearts.push(heart);
                scene.add(heart);
            }
        }

        function createParticles() {
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 1000;
            
            const posArray = new Float32Array(particlesCount * 3);
            const colorArray = new Float32Array(particlesCount * 3);
            
            for(let i = 0; i < particlesCount * 3; i += 3) {
                // –ü–æ–∑–∏—Ü–∏–∏
                posArray[i] = (Math.random() - 0.5) * 150;
                posArray[i+1] = (Math.random() - 0.5) * 150;
                posArray[i+2] = (Math.random() - 0.5) * 100;
                
                // –¶–≤–µ—Ç–∞ (—Ä–æ–∑–æ–≤—ã–µ –∏ —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏)
                colorArray[i] = 1; // R
                colorArray[i+1] = 0.5 + Math.random() * 0.5; // G
                colorArray[i+2] = 0.7 + Math.random() * 0.3; // B
            }
            
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colorArray, 3));
            
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.5,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });
            
            particles = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particles);
        }

        function onMouseMove(event) {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            // –ê–Ω–∏–º–∏—Ä—É–µ–º –≥–ª–∞–≤–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ
            if (heartGroup) {
                // –ü–ª–∞–≤–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ
                targetRotationX = mouseY * 0.5;
                targetRotationY = mouseX * 0.5;
                
                heartGroup.rotation.x += (targetRotationX - heartGroup.rotation.x) * 0.05;
                heartGroup.rotation.y += (targetRotationY - heartGroup.rotation.y) * 0.05;
                
                // –ü—É–ª—å—Å–∞—Ü–∏—è
                const scale = 1 + Math.sin(time * 2) * 0.05;
                heartGroup.scale.set(scale, scale, scale);
                
                // –ü–ª–∞–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö-–≤–Ω–∏–∑
                heartGroup.position.y = Math.sin(time) * 2;
            }

            // –ê–Ω–∏–º–∏—Ä—É–µ–º –ø–ª–∞–≤–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏
            floatingHearts.forEach((heart, i) => {
                heart.position.y += heart.userData.speedY;
                heart.rotation.x += heart.userData.speedRot;
                heart.rotation.y += heart.userData.speedRot;
                
                // –ö–æ–ª–µ–±–∞–Ω–∏–µ
                heart.position.x += Math.sin(time + heart.userData.offset) * 0.02;
                
                // –ï—Å–ª–∏ —É–ª–µ—Ç–µ–ª–æ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–Ω–∏–∑
                if (heart.position.y > 50) {
                    heart.position.y = -50;
                }
            });

            // –ê–Ω–∏–º–∏—Ä—É–µ–º —á–∞—Å—Ç–∏—Ü—ã
            if (particles) {
                particles.rotation.y = time * 0.05;
                particles.rotation.x = time * 0.02;
            }

            renderer.render(scene, camera);
        }

        // ===== –õ–û–ì–ò–ö–ê –°–ê–ô–¢–ê =====

        const hints = {
            1: {
                yes: "–û—Ç–ª–∏—á–Ω–æ! –ó–∞–≥–ª—è–Ω–∏ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ ‚Äî —Ç–∞–º —Ç–µ–±—è –∂–¥—ë—Ç —á—Ç–æ-—Ç–æ –≤–∫—É—Å–Ω–æ–µ! üç∞ –ê –µ—Å–ª–∏ —Ç–∞–º –ø—É—Å—Ç–æ... –∑–Ω–∞—á–∏—Ç, —è —É–∂–µ –≤—Å—ë —Å—ä–µ–ª üòÖ",
                no: "–ù–µ –≥–æ–ª–æ–¥–Ω–∞? –¢–æ–≥–¥–∞ –ø–æ—Å–º–æ—Ç—Ä–∏ –ø–æ–¥ –ø–æ–¥—É—à–∫—É –Ω–∞ –¥–∏–≤–∞–Ω–µ ‚Äî —Ç–∞–º —Ç–æ—á–Ω–æ –Ω–µ –µ–¥–∞! üéÅ"
            },
            2: {
                yes: "–°—é—Ä–ø—Ä–∏–∑ –∂–¥—ë—Ç —Ç–µ–±—è —Ç–∞–º, –≥–¥–µ –º—ã —Ö—Ä–∞–Ω–∏–º —Å–∞–º–æ–µ —Ü–µ–Ω–Ω–æ–µ... –ü—Ä–æ–≤–µ—Ä—å –ø–æ–ª–∫—É —Å –∫–Ω–∏–≥–∞–º–∏! üìö‚ú®",
                no: "–ë–æ–∏—à—å—Å—è? –ù–µ –±–æ–π—Å—è! –ü–æ–¥–∞—Ä–æ–∫ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî –∑–∞ —à—Ç–æ—Ä–æ–π! ü™ü"
            },
            3: {
                yes: "–§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ–¥–∞—Ä–æ–∫ —Å–ø—Ä—è—Ç–∞–Ω —Ç–∞–º, –≥–¥–µ —Ç—ã –ø—Ä–æ–≤–æ–¥–∏—à—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏... –í–æ–∑–º–æ–∂–Ω–æ, —Ä—è–¥–æ–º —Å —Ç–≤–æ–∏–º —Ä–∞–±–æ—á–∏–º –º–µ—Å—Ç–æ–º? üíªüéÄ",
                later: "–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏? –û–∫–µ–π, –ø–æ–¥–∞—Ä–æ–∫ –ø–æ–¥–æ–∂–¥—ë—Ç... –ù–æ –æ–Ω —É–∂–µ —Å–∫—É—á–∞–µ—Ç –ø–æ —Ç–µ–±–µ! üò¢ –ü—Ä–æ–≤–µ—Ä—å —à–∫–∞—Ñ —Å –æ–¥–µ–∂–¥–æ–π! üëó"
            }
        };

        function showHint(qNum, answer) {
            const hintBox = document.getElementById(`hint${qNum}`);
            const hintText = document.getElementById(`hintText${qNum}`);
            
            hintText.textContent = hints[qNum][answer];
            hintBox.classList.add('show');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
            if (qNum < 3) {
                setTimeout(() => {
                    document.getElementById(`q${qNum + 1}`).style.display = 'block';
                    gsap.from(`#q${qNum + 1}`, {
                        y: 50,
                        opacity: 0,
                        duration: 0.5
                    });
                }, 1000);
            }
            
            // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
            confetti({
                particleCount: 50,
                spread: 60,
                origin: { y: 0.7 },
                colors: ['#ff6b9d', '#ffc8dd', '#cdb4db']
            });
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // –£–±–µ–≥–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞
        const noBtn = document.getElementById('noBtn');
        const noTexts = ['–ù–µ—Ç', '–¢–æ—á–Ω–æ?', '–ü–æ–¥—É–º–∞–π!', '–ù—É please', 'ü•∫', '–ù–µ-–∞!'];
        
        function moveButton() {
            const x = (Math.random() - 0.5) * 200;
            const y = (Math.random() - 0.5) * 100;
            noBtn.style.transform = `translate(${x}px, ${y}px)`;
            noBtn.textContent = noTexts[Math.floor(Math.random() * noTexts.length)];
        }

        if (window.innerWidth > 768) {
            document.addEventListener('mousemove', (e) => {
                const rect = noBtn.getBoundingClientRect();
                const dist = Math.sqrt(
                    Math.pow(e.clientX - (rect.left + rect.width/2), 2) +
                    Math.pow(e.clientY - (rect.top + rect.height/2), 2)
                );
                if (dist < 100) moveButton();
            });
        }

        function sayYes() {
            // –ú–∞—Å—Å–∏–≤–Ω—ã–π –≤–∑—Ä—ã–≤
            const end = Date.now() + 3000;
            const colors = ['#ff6b9d', '#ffc8dd', '#cdb4db', '#ffd700'];
            
            const frame = () => {
                confetti({
                    particleCount: 10,
                    spread: 100,
                    origin: { x: Math.random(), y: Math.random() * 0.5 },
                    colors: colors,
                    shapes: ['circle', 'heart']
                });
                if (Date.now() < end) requestAnimationFrame(frame);
            };
            frame();
            
            setTimeout(() => {
                document.getElementById('successScreen').classList.add('active');
            }, 500);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º Three.js
        initThree();
    </script>
</body>
</html>
